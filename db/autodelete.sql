CREATE EVENT purge_sneezes

ON SCHEDULE AT CURRENT_TIMESTAMP + INTERVAL 30 MINUTE

DO

DELETE FROM messages WHERE time < (CURDATE() - INTERVAL 30 MINUTE);